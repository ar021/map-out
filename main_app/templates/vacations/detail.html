{% extends 'base.html' %}
{% block content %}


<H3>{{vacation.name}}</H3>

<!-- Images  -->


{% for photo in vacation.photo_set.all %}
<div class="row">
  <img class="responsive-img card-panel col s3" src="{{photo.url}}">
{% empty %}
  <div class="card-panel teal-text center-align ">No Photos Yet</div>
{% endfor %}
</div>
<!-- Adding Photos Form  -->

<form action="{% url 'add_photo' vacation.id %}" enctype="multipart/form-data" method="post" class="card-panel col s3">
  {% csrf_token %}
  <input type="file" name="photo-file">
  <br><br>
  <input type="submit" class="btn" value="Upload Photo">

</form>
<br><br><br><br><br><br>

  <!-- Vacations Details Card -->


<div class="row">
  <div class="column">
    <div class="card blue-grey darken-1">
      <span class="card-title"><h4> Vacation Details</h4> </span>
      <p> <h5>Destination</h5> {{vacation.destination}}</p>
       <p> <h5>Description</h5> {{vacation.description}}</p>
       <p> <h5>Departure Date</h5> {{vacation.date}}</p>
        <p> <h5>Duration</h5> {{vacation.duration}} days</p>
       <p> <h5> Type of Trip </h5>{{vacation.style}}</p> 
      <p> <h5>Travellers</h5> {{vacation.travellers}}</p>
      <p> <h5>Transportation</h5> {{vacation.transportation}}</p>
      <div class="card-action">
        <a href="#">Edit Vacation</a>
      </div>
    </div>
  </div>

  <div class="column">
    <div class="card blue-grey darken-1">
      <span class="card-title"><h4> Packing List</h4> </span>
      <p> Coming Soon</p>
      <div class="card-action">
        <a href="#">Edit Packing List</a>
      </div>
    </div> 
    <div class="card blue-grey darken-1">
      <span class="card-title"><h4> Add Itinerary</h4> </span>
      
      <div class="card-action">
        <form action="{% url 'add_itinerary' vacation.id %}" method="post">
          {% csrf_token %}
          {{ itinerary_form.as_p }} 
          <input type="submit" class="btn" value="Add Itinerary">
        </form>
      </div>
      <!-- <div class="card blue-grey darken-1">
        <span class="card-title"><h4> Show Itinerary</h4> </span>
        
        <div class="card-action">
          <table class="striped">
            <thead>
              <tr><th>Date</th><th>Activity</th><th>Location</th></tr>
            </thead>
            <tbody>
              {% for itinerary in vacation.itinerary_set.all %}
                <tr>
                  <td>{{itinerary.date}}</td>
                  <td>{{itinerary.activity}}</td>
                  <td>{{itinerary.location}}</td>
                </tr>
              {% endfor %}
            </tbody>
          </table>
        </div> -->
    </div>
  </div>

</div>
<div class="outer-box">
  <div class="timeline-container">
    <div class="timeline">
      <ul>
        {% for itinerary in vacation.itinerary_set.all %}
        <li>
          <div class="timeline-content">
            <h3 class="timeline-date">{{itinerary.date}}</h3>
            <h1>{{itinerary.activity}}</h1>
            <p>{{itinerary.location}}</p>
          </div>
        </li>
        {% endfor %}
      </ul>
    </div>
  </div>
</div>

{% endblock %}